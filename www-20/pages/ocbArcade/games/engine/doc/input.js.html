<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: pwge/input.js</title>
    
    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">
    
    <h1 class="page-title">Source: pwge/input.js</h1>
    
    


    
    <section>
        <article>
            <pre class="prettyprint source"><code>define("pwge/input", ["pwge/canvas", "util/PubSub", "pwge/renderer", "pwge/boardManager"], function(canvas, PubSub, renderer, boardManager) {
    /**
     * input 모듈
     * @exports pwge/input
     * @extends util/PubSub
     * @requires pwge/canvas
     * @requires util/PubSub
     * @example
     * input.on("click", function(e){ //event handling });
     */
    var input = new PubSub(),
        delegate = function(e, touch) {
            e.stopPropagation();
            e.preventDefault();

            if (renderer.isRendering()) {
                var x = (typeof touch === "boolean" &amp;&amp; touch) ? e.changedTouches[0].clientX - canvas.element.offsetLeft + window.scrollX : e.offsetX,
                    y = (typeof touch === "boolean" &amp;&amp; touch) ? e.changedTouches[0].clientY - canvas.element.offsetTop + window.scrollY : e.offsetY,
                    entity;

                e.canvasX = x;
                e.canvasY = y;

                input.trigger(e.type, e);

                if ((entity = boardManager.detect(x, y))) {
                    entity.trigger(e.type, e);
                }
            }
        };

    canvas.element.addEventListener("touchstart", function(e){
        delegate(e, true);
    }, true);

    canvas.element.addEventListener("touchmove", function(e){
        delegate(e, true);
    }, true);

    canvas.element.addEventListener("touchend", function(e){
        delegate(e, true);
    }, true);

    canvas.element.addEventListener("touchcancel", function(e){
        delegate(e, true);
    }, true);

    canvas.element.addEventListener("dblclick", function(e){
        delegate(e);
    }, true);

    canvas.element.addEventListener("click", function(e){
        delegate(e);
    }, true);

    canvas.element.addEventListener("mousedown", function(e){
        delegate(e);
    }, true);

    canvas.element.addEventListener("mousemove", function(e){
        delegate(e);
    }, true);

    canvas.element.addEventListener("mouseup", function(e){
        delegate(e);
    }, true);

    canvas.element.ownerDocument.addEventListener("keydown", function(e){
        // delegate(e);
    }, true);

    return input;
});</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Index</a></h2><h3>Modules</h3><ul><li><a href="boardManager.html">pwge/boardManager</a></li><li><a href="boardPool.html">pwge/boardPool</a></li><li><a href="canvas.html">pwge/canvas</a></li><li><a href="config.html">pwge/config</a></li><li><a href="entityPool.html">pwge/entityPool</a></li><li><a href="input.html">pwge/input</a></li><li><a href="loader.html">pwge/loader</a></li><li><a href="renderer.html">pwge/renderer</a></li><li><a href="sound.html">pwge/sound</a></li><li><a href="spriteManager.html">pwge/spriteManager</a></li><li><a href="util.html">pwge/util</a></li><li><a href="easing.html">util/easing</a></li><li><a href="ObjectPool.html">util/ObjectPool</a></li><li><a href="PubSub.html">util/PubSub</a></li></ul><h3>Classes</h3><ul><li><a href="boardPool-Board.html">Board</a></li><li><a href="entityPool-Entity.html">Entity</a></li><li><a href="spriteManager-Sprite.html">Sprite</a></li></ul>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.0-alpha2</a> on Thu Feb 06 2014 11:24:18 GMT+0900 (KST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
